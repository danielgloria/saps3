<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Calculadora SAPS 3 – América do Sul</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <h1>Calculadora SAPS 3 – América do Sul</h1>
  <form id="saps-form">
    <!-- Etapa 1: Identificação -->
    <div class="step" id="step-1">
      <h2>Etapa 1: Identificação</h2>
      <label>Iniciais do Paciente:</label>
      <input type="text" id="iniciais">
      <label>Número do Atendimento:</label>
      <input type="text" id="atendimento"><br>
      <button type="button" onclick="nextStep(2)">Próxima Etapa</button>
    </div>

    <!-- Etapa 2: Dados de Admissão -->
    <div class="step" id="step-2" style="display:none;">
      <h2>Etapa 2: Admissão</h2>
      <label>Tipo de Admissão:</label>
      <select id="tipo_admissao">
        <option value="0">Planejada</option>
        <option value="3">Não Planejada</option>
      </select>
      <label>Local de Origem:</label>
      <select id="local_origem">
        <option value="5">Pronto Socorro</option>
        <option value="7">Outra UTI</option>
        <option value="8">Outra Ala</option>
      </select>
      <label>Tempo de Internação antes da UTI:</label>
      <select id="tempo_internacao">
        <option value="0">Menor que 14 dias</option>
        <option value="6">14–27 dias</option>
        <option value="7">28 dias ou mais</option>
      </select>
      <label>Estado Cirúrgico:</label>
      <select id="estado_cirurgico">
        <option value="0">Cirurgia programada</option>
        <option value="5">Sem cirurgia</option>
        <option value="6">Cirurgia de emergência</option>
      </select>
      <label>Tipo de Cirurgia:</label>
      <select id="tipo_cirurgia">
        <option value="0">Outra</option>
        <option value="-11">Transplante</option>
        <option value="-8">Trauma</option>
        <option value="-6">CABG</option>
        <option value="5">Neurocirurgia – AVC</option>
      </select>
      <label>Infecção Aguda:</label>
      <select id="infeccao">
        <option value="0">Nenhuma</option>
        <option value="4">Nosocomial</option>
        <option value="5">Respiratória</option>
      </select>
      <label>Uso de vasopressor:</label>
      <select id="vasopressor">
        <option value="0">Não</option>
        <option value="3">Sim</option>
      </select>
      <label>Ventilação Mecânica:</label>
      <select id="vm">
        <option value="0">Não</option>
        <option value="1">Sim</option>
      </select>
      <br><button type="button" onclick="nextStep(3)">Próxima Etapa</button>
      <button type="button" onclick="prevStep(1)">Voltar</button>
    </div>

    <!-- Etapa 3: Clínicas -->
    <div class="step" id="step-3" style="display:none;">
      <h2>Etapa 3: Variáveis Clínicas</h2>
      <label>Idade:</label>
      <select id="idade">
        <option value="0">Menor que 40</option>
        <option value="5">40-59</option>
        <option value="9">60-69</option>
        <option value="13">70-74</option>
        <option value="15">75-79</option>
        <option value="18">80 ou mais</option>
      </select>
      <label>Glasgow:</label>
      <select id="glasgow">
        <option value="0">≥13</option>
        <option value="2">7–12</option>
        <option value="7">6</option>
        <option value="10">5</option>
        <option value="15">3–4</option>
      </select>
      <label>PAS:</label>
      <select id="pas">
        <option value="0">≥120</option>
        <option value="3">70–119</option>
        <option value="8">40–69</option>
        <option value="11"><40</option>
      </select>
      <label>FC:</label>
      <select id="fc">
        <option value="0"><120</option>
        <option value="5">120–159</option>
        <option value="7">≥160</option>
      </select>
      <label>Oxigenação:</label>
      <select id="oxigenacao">
        <option value="0">PaO₂ ≥60 sem VM</option>
        <option value="5">PaO₂ <60 sem VM</option>
        <option value="7">PaO₂/FiO₂ ≥100 com VM</option>
        <option value="11">PaO₂/FiO₂ <100 com VM</option>
      </select>
      <label>Motivo:</label>
      <select id="motivo">
        <option value="0">Outro</option>
        <option value="-5">Arritmia</option>
        <option value="-4">Convulsões</option>
        <option value="3">Choque</option>
        <option value="4">Coma/confusão</option>
        <option value="5">Choque séptico</option>
        <option value="6">Insuficiência hepática</option>
        <option value="7">Déficit neurológico</option>
        <option value="9">Pancreatite</option>
        <option value="10">Efeito massa</option>
      </select>
      <br><button type="button" onclick="nextStep(4)">Próxima Etapa</button>
      <button type="button" onclick="prevStep(2)">Voltar</button>
    </div>

    <!-- Etapa 4: Laboratoriais -->
    <div class="step" id="step-4" style="display:none;">
      <h2>Etapa 4: Laboratoriais</h2>
      <label>Leucócitos:</label>
      <select id="leucocitos">
        <option value="0"><15</option>
        <option value="2">≥15</option>
      </select>
      <label>pH:</label>
      <select id="ph">
        <option value="0">>7.25</option>
        <option value="3">≤7.25</option>
      </select>
      <label>Plaquetas:</label>
      <select id="plaquetas">
        <option value="0">≥100</option>
        <option value="5">50–99</option>
        <option value="8">20–49</option>
        <option value="13"><20</option>
      </select>
      <label>Bilirrubina:</label>
      <select id="bilirrubina">
        <option value="0"><2</option>
        <option value="4">2–5.9</option>
        <option value="5">≥6</option>
      </select>
      <label>Creatinina:</label>
      <select id="creatinina">
        <option value="0"><1.2</option>
        <option value="2">1.2–1.9</option>
        <option value="7">2–3.4</option>
        <option value="8">≥3.5</option>
      </select><br>
      <button type="submit">Calcular SAPS 3</button>
      <button type="button" onclick="prevStep(3)">Voltar</button>
    </div>
  </form>

  <div id="resultado"></div>
  <button id="export-pdf" onclick="gerarPDF()" style="display:none;">Baixar PDF</button>
  <script src="script.js"></script>
</body>
</html>
