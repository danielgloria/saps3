<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Calculadora SAPS 3</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="step" id="step-1">
    <h2>Etapa 1: Identificação</h2>
    <label>Iniciais: <input type="text" id="iniciais" /></label><br/>
    <label>Atendimento: <input type="text" id="atendimento" /></label><br/>
    <button onclick="nextStep(2)">Próxima Etapa</button>
  </div>

  <div class="step" id="step-2" style="display:none;">
    <h2>Etapa 2: Dados de Admissão</h2>
    <fieldset><legend>Tempo de internação antes da UTI</legend>
      <label><input type="radio" name="internacao" value="0"> &lt;14 dias</label>
      <label><input type="radio" name="internacao" value="6"> 14–27 dias</label>
      <label><input type="radio" name="internacao" value="7"> ≥28 dias</label>
    </fieldset>
    <fieldset><legend>Localização antes da UTI</legend>
      <label><input type="radio" name="local" value="5"> Pronto Socorro</label>
      <label><input type="radio" name="local" value="7"> Outra UTI</label>
      <label><input type="radio" name="local" value="8"> Outra ala</label>
    </fieldset>
    <fieldset><legend>Tipo de Admissão</legend>
      <label><input type="radio" name="tipo_adm" value="0"> Planejada</label>
      <label><input type="radio" name="tipo_adm" value="3"> Não Planejada</label>
    </fieldset>
    <button type="button" onclick="prevStep(1)">Voltar</button>
    <button type="button" onclick="nextStep(3)">Próxima Etapa</button>
  </div>

  <div class="step" id="step-3" style="display:none;">
    <h2>Etapa 3: Variáveis Clínicas</h2>
    <fieldset><legend>Comorbidades (marque todas as que se aplicam)</legend>
      <label><input type="checkbox" name="comorbidade" value="3"> Terapia do câncer</label>
      <label><input type="checkbox" name="comorbidade" value="6"> ICC (NYHA IV)</label>
      <label><input type="checkbox" name="comorbidade" value="6"> Câncer hematológico</label>
      <label><input type="checkbox" name="comorbidade" value="8"> Cirrose</label>
      <label><input type="checkbox" name="comorbidade" value="8"> AIDS</label>
      <label><input type="checkbox" name="comorbidade" value="11"> Câncer metastático</label>
    </fieldset>
    <button type="button" onclick="prevStep(2)">Voltar</button>
    <button type="button" onclick="nextStep(4)">Próxima Etapa</button>
  </div>

  <div class="step" id="step-4" style="display:none;">
    <h2>Etapa 4: Variáveis Laboratoriais</h2>
    <fieldset><legend>Bilirrubina total (mg/dL)</legend>
      <label><input type="radio" name="bilirrubina" value="0"> &lt;2</label>
      <label><input type="radio" name="bilirrubina" value="4"> 2–5,9</label>
      <label><input type="radio" name="bilirrubina" value="5"> ≥6</label>
    </fieldset>
    <fieldset><legend>Temperatura corporal (°C)</legend>
      <label><input type="radio" name="temperatura" value="0"> ≥35°C</label>
      <label><input type="radio" name="temperatura" value="7"> &lt;35°C</label>
    </fieldset>
    <fieldset><legend>Creatinina (mg/dL)</legend>
      <label><input type="radio" name="creatinina" value="0"> &lt;1,2</label>
      <label><input type="radio" name="creatinina" value="2"> 1,2–1,9</label>
      <label><input type="radio" name="creatinina" value="7"> 2–3,4</label>
      <label><input type="radio" name="creatinina" value="8"> ≥3,5</label>
    </fieldset>
    <fieldset><legend>Frequência cardíaca (bpm)</legend>
      <label><input type="radio" name="fc" value="0"> &lt;120</label>
      <label><input type="radio" name="fc" value="5"> 120–159</label>
      <label><input type="radio" name="fc" value="7"> ≥160</label>
    </fieldset>
    <fieldset><legend>Leucócitos (G/L)</legend>
      <label><input type="radio" name="leucocitos" value="0"> &lt;15</label>
      <label><input type="radio" name="leucocitos" value="2"> ≥15</label>
    </fieldset>
    <fieldset><legend>pH</legend>
      <label><input type="radio" name="ph" value="0"> &gt;7,25</label>
      <label><input type="radio" name="ph" value="3"> ≤7,25</label>
    </fieldset>
    <fieldset><legend>Plaquetas (G/L)</legend>
      <label><input type="radio" name="plaquetas" value="0"> ≥100</label>
      <label><input type="radio" name="plaquetas" value="5"> 50–99</label>
      <label><input type="radio" name="plaquetas" value="8"> 20–49</label>
      <label><input type="radio" name="plaquetas" value="13"> &lt;20</label>
    </fieldset>
    <fieldset><legend>Pressão arterial sistólica (mmHg)</legend>
      <label><input type="radio" name="pas" value="0"> ≥120</label>
      <label><input type="radio" name="pas" value="3"> 70–119</label>
      <label><input type="radio" name="pas" value="8"> 40–69</label>
      <label><input type="radio" name="pas" value="11"> &lt;40</label>
    </fieldset>
    <fieldset><legend>Oxigenação</legend>
      <label><input type="radio" name="oxigenacao" value="0"> PaO2 ≥60 e sem VM</label>
      <label><input type="radio" name="oxigenacao" value="5"> PaO2 &lt;60 e sem VM</label>
      <label><input type="radio" name="oxigenacao" value="7"> PaO2/FiO2 ≥100 e VM</label>
      <label><input type="radio" name="oxigenacao" value="11"> PaO2/FiO2 &lt;100 e VM</label>
    </fieldset>
    <button type="button" onclick="calcularSAPS3()" style="margin-top: 20px;">Calcular SAPS 3</button>
    <button type="button" onclick="prevStep(3)">Voltar</button>
    <div id="resultado" style="margin-top: 30px;"></div>
    <button id="export-pdf" onclick="gerarPDF()" style="display:none; margin-top: 10px;">Exportar PDF</button>
  </div>

  <script src="script.js"></script>
</body>
</html>
